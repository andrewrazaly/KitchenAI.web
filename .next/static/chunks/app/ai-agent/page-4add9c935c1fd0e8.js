(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{4629:function(e,r,t){Promise.resolve().then(t.bind(t,2694))},2694:function(e,r,t){"use strict";t.r(r),t.d(r,{ChatInterface:function(){return a}});var n=t(7437),s=t(2265),i=t(6091),o=t(7969);function a(){let[e,r]=(0,s.useState)([]),[t,a]=(0,s.useState)(""),[l,c]=(0,s.useState)(!1),d=async e=>{if(e.preventDefault(),!t.trim())return;let n={role:"user",content:t};r(e=>[...e,n]),a(""),c(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})}),n=await e.json();if(!e.ok)throw Error(n.error||"Failed to get response");let s={role:"assistant",content:n.message};r(e=>[...e,s])}catch(t){console.error("Error:",t);let e={role:"error",content:t.message||"An error occurred while getting the response. Please try again."};r(r=>[...r,e])}finally{c(!1)}};return(0,n.jsxs)("div",{className:"flex flex-col h-[600px] border rounded-lg",children:[(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((e,r)=>(0,n.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsx)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-blue-500 text-white":"error"===e.role?"bg-red-100 text-red-700":"bg-gray-100 text-gray-900"),children:e.content})},r)),l&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-3 text-gray-900",children:"Thinking..."})})]}),(0,n.jsx)("form",{onSubmit:d,className:"p-4 border-t",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(o.I,{value:t,onChange:e=>a(e.target.value),placeholder:"Ask anything about cooking...",disabled:l}),(0,n.jsx)(i.z,{type:"submit",disabled:l,children:l?"Sending...":"Send"})]})})]})}},6091:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var n=t(7437),s=t(2265),i=t(3933);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground shadow hover:bg-primary/90","h-9 px-4 py-2",t),ref:r,...s})});o.displayName="Button"},7969:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var n=t(7437),s=t(2265),i=t(3933);let o=s.forwardRef((e,r)=>{let{className:t,type:s,...o}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},3933:function(e,r,t){"use strict";t.d(r,{cn:function(){return i}});var n=t(3167),s=t(1367);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}}},function(e){e.O(0,[150,971,69,744],function(){return e(e.s=4629)}),_N_E=e.O()}]);