(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{1471:function(e,s,a){Promise.resolve().then(a.bind(a,6307))},6307:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(7437),i=a(2265),l=a(8725),n=a(7985),r=a(590),d=a(6281),c=a(3770),o=a(3933);let u=c.fC,m=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(c.aV,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});m.displayName=c.aV.displayName;let f=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(c.xz,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});f.displayName=c.xz.displayName;let x=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(c.VY,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});x.displayName=c.VY.displayName;var h=a(6091),v=a(7969),p=a(9580),j=a(8670),g=a(8792);function b(){let{isSignedIn:e}=(0,l.a)(),s=(0,d.$)(),[a,c]=(0,i.useState)(""),[o,b]=(0,i.useState)({data:{items:[]}}),[N,y]=(0,i.useState)(!0),[w,S]=(0,i.useState)(null);(0,i.useEffect)(()=>{k()},[s]);let k=async()=>{try{y(!0),S(null);let e=await (0,r.bH)(s);b({data:{items:e.filter(e=>{var s;return""===a||(null===(s=e.caption_text)||void 0===s?void 0:s.toLowerCase().includes(a.toLowerCase()))||e.user.username.toLowerCase().includes(a.toLowerCase())})}})}catch(e){console.error("Error loading saved reels:",e),S(e.message||"Failed to load saved reels")}finally{y(!1)}},C=()=>{k()};return e?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Saved Reels"}),(0,t.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsx)(v.I,{type:"text",placeholder:"Search saved reels...",value:a,onChange:e=>c(e.target.value),className:"w-full",onKeyDown:e=>"Enter"===e.key&&C()})}),(0,t.jsxs)(h.z,{onClick:C,className:"flex items-center gap-2",disabled:N,children:[N?(0,t.jsx)(p.Z,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(j.Z,{className:"h-4 w-4"}),N?"Searching...":"Search"]})]}),w&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:w}),N?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(p.Z,{className:"h-8 w-8 animate-spin text-gray-400"})}):(0,t.jsxs)(u,{defaultValue:"all",className:"w-full",children:[(0,t.jsxs)(m,{children:[(0,t.jsx)(f,{value:"all",children:"All Saved"}),(0,t.jsx)(f,{value:"recipes",children:"With Recipes"}),(0,t.jsx)(f,{value:"notes",children:"With Notes"})]}),(0,t.jsx)(x,{value:"all",children:(0,t.jsx)(n.u,{data:o})}),(0,t.jsx)(x,{value:"recipes",children:(0,t.jsx)(n.u,{data:{data:{items:o.data.items.filter(e=>"recipeId"in e)}}})}),(0,t.jsx)(x,{value:"notes",children:(0,t.jsx)(n.u,{data:{data:{items:o.data.items.filter(e=>"notes"in e&&e.notes)}}})})]})]})}):(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Sign in to view saved reels"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Save your favorite cooking reels and organize them with your recipes!"}),(0,t.jsx)(g.default,{href:"/auth/signin",className:"inline-block mt-4",children:(0,t.jsx)(h.z,{children:"Sign In"})})]})})}}},function(e){e.O(0,[51,150,792,429,37,770,224,971,69,744],function(){return e(e.s=1471)}),_N_E=e.O()}]);