(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{9229:function(e,t,r){Promise.resolve().then(r.bind(r,5158))},5158:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(7437),n=r(2265),a=r(8725),i=r(8509),l=r(6091),u=r(7969),o=r(9580),c=r(684),d=r(1652),f=r(1930),m=r(7841),h=r(8792),x=r(7907),p=r(6288);function y(){let{signIn:e,signInWithMagicLink:t,loading:r}=(0,a.a)(),y=(0,x.useRouter)(),[g,v]=(0,n.useState)(""),[b,w]=(0,n.useState)(""),[j,N]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),[I,S]=(0,n.useState)(!1),Z=async t=>{t.preventDefault(),C(!0);try{let{error:t}=await e(g,b);t?p.toast.error(t.message):(p.toast.success("Signed in successfully!"),y.push("/"))}catch(e){p.toast.error("Failed to sign in")}finally{C(!1)}},z=async e=>{e.preventDefault(),C(!0);try{let{error:e}=await t(g);e?p.toast.error(e.message):p.toast.success("Magic link sent! Check your email.")}catch(e){p.toast.error("Failed to send magic link")}finally{C(!1)}};return r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"h-8 w-8 animate-spin"})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to KitchenAI"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Access your saved recipes and meal plans"})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsx)(i.ll,{className:"text-center",children:I?"Magic Link Sign In":"Email & Password"})}),(0,s.jsxs)(i.aY,{children:[(0,s.jsxs)("form",{onSubmit:I?z:Z,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(u.I,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:g,onChange:e=>v(e.target.value),className:"pl-10",placeholder:"Email address"})]})]}),!I&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(u.I,{id:"password",name:"password",type:j?"text":"password",autoComplete:"current-password",required:!0,value:b,onChange:e=>w(e.target.value),className:"pl-10 pr-10",placeholder:"Password"}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>N(!j),children:j?(0,s.jsx)(f.Z,{className:"h-4 w-4"}):(0,s.jsx)(m.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)(l.z,{type:"submit",className:"w-full",disabled:k,children:[k?(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin mr-2"}):null,I?"Send Magic Link":"Sign In"]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>S(!I),className:"text-sm text-indigo-600 hover:text-indigo-500",children:I?"Use email & password instead":"Use magic link instead"})})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(h.default,{href:"/auth/signup",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create new account"})})]})]})]})]})})}},6091:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(7437),n=r(2265),a=r(3933);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground shadow hover:bg-primary/90","h-9 px-4 py-2",r),ref:t,...n})});i.displayName="Button"},8509:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return o},ll:function(){return u}});var s=r(7437),n=r(2265),a=r(3933);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});u.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},7969:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),n=r(2265),a=r(3933);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},8725:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var s=r(2265),n=r(6281);function a(){let e=(0,n.$)(),[t,r]=(0,s.useState)({user:null,session:null,loading:!0,error:null});(0,s.useEffect)(()=>{if(!e)return;(async()=>{try{var t;let{data:{session:s},error:n}=await e.auth.getSession();r({user:null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null,session:s,loading:!1,error:n})}catch(e){r({user:null,session:null,loading:!1,error:e})}})();let{data:{subscription:t}}=e.auth.onAuthStateChange(async(e,t)=>{var s;r({user:null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null,session:t,loading:!1,error:null})});return()=>t.unsubscribe()},[e]);let a=async(t,r)=>{if(!e)return{error:Error("Supabase not initialized")};let{data:s,error:n}=await e.auth.signInWithPassword({email:t,password:r});return{data:s,error:n}},i=async(t,r)=>{if(!e)return{error:Error("Supabase not initialized")};let{data:s,error:n}=await e.auth.signUp({email:t,password:r});return{data:s,error:n}},l=async()=>{if(!e)return{error:Error("Supabase not initialized")};let{error:t}=await e.auth.signOut();return{error:t}},u=async t=>{if(!e)return{error:Error("Supabase not initialized")};let{data:r,error:s}=await e.auth.signInWithOtp({email:t,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return{data:r,error:s}};return{user:t.user,session:t.session,loading:t.loading,error:t.error,isSignedIn:!!t.user,signIn:a,signUp:i,signOut:l,signInWithMagicLink:u}}},6281:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var s=r(2265),n=r(5876);function a(){let e=(0,s.useContext)(n.Wx);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e}},3933:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(3167),n=r(1367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},5876:function(e,t,r){"use strict";r.d(t,{FV:function(){return l},Wx:function(){return i}});var s=r(7437),n=r(2265),a=r(1051);let i=(0,n.createContext)(null);function l(e){let{children:t}=e,[r]=(0,n.useState)(()=>(0,a.eI)("https://wofujmjtywidyilhfewn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndvZnVqbWp0eXdpZHlpbGhmZXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczNTkwNDEsImV4cCI6MjA2MjkzNTA0MX0.RO5x9h_QEzNFbyiMqphMuqYDChd-KQ9Cf3ODvP_RzO4"));return(0,s.jsx)(i.Provider,{value:r,children:t})}},1930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(7977).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7841:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(7977).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9580:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(7977).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1652:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(7977).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},684:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(7977).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[51,150,792,429,971,69,744],function(){return e(e.s=9229)}),_N_E=e.O()}]);