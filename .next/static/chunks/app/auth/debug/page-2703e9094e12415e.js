(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{6020:function(e,r,n){Promise.resolve().then(n.bind(n,8316))},8316:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return c}});var t=n(7437),s=n(8725),i=n(6281),l=n(2265),a=n(8509),o=n(6091),u=n(8792);function c(){let{user:e,session:r,loading:n,isSignedIn:c,error:d}=(0,s.a)(),f=(0,i.$)(),[h,x]=(0,l.useState)(null),[p,j]=(0,l.useState)(!1),m=async()=>{if(f){j(!0);try{let{data:e,error:r}=await f.auth.getSession();x({data:e,error:r})}catch(e){x({error:e})}j(!1)}};return(0,l.useEffect)(()=>{m()},[f]),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Authentication Debug"}),(0,t.jsxs)(a.Zb,{children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)(a.ll,{children:"useAuth Hook State"})}),(0,t.jsxs)(a.aY,{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Loading:"})," ",n?"true":"false"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Is Signed In:"})," ",c?"true":"false"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User:"})," ",e?e.email:"null"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User ID:"})," ",(null==e?void 0:e.id)||"null"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Session:"})," ",r?"exists":"null"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Error:"})," ",(null==d?void 0:d.message)||"none"]})]})]}),(0,t.jsxs)(a.Zb,{children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)(a.ll,{children:"Direct Supabase Session Check"})}),(0,t.jsxs)(a.aY,{children:[(0,t.jsx)(o.z,{onClick:m,disabled:p,className:"mb-4",children:p?"Checking...":"Check Session"}),h&&(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto",children:JSON.stringify(h,null,2)})]})]}),(0,t.jsxs)(a.Zb,{children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)(a.ll,{children:"Environment Check"})}),(0,t.jsxs)(a.aY,{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Supabase Client:"})," ",f?"initialized":"not initialized"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Window location:"})," ",window.location.href]})]})]}),(0,t.jsxs)("div",{className:"text-center space-x-4",children:[(0,t.jsx)(u.default,{href:"/auth/signin",children:(0,t.jsx)(o.z,{children:"Go to Sign In"})}),(0,t.jsx)(u.default,{href:"/auth/signup",children:(0,t.jsx)(o.z,{children:"Go to Sign Up"})}),(0,t.jsx)(u.default,{href:"/",children:(0,t.jsx)(o.z,{children:"Go to Home"})})]})]})})}},6091:function(e,r,n){"use strict";n.d(r,{z:function(){return l}});var t=n(7437),s=n(2265),i=n(3933);let l=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground shadow hover:bg-primary/90","h-9 px-4 py-2",n),ref:r,...s})});l.displayName="Button"},8509:function(e,r,n){"use strict";n.d(r,{Ol:function(){return a},Zb:function(){return l},aY:function(){return u},ll:function(){return o}});var t=n(7437),s=n(2265),i=n(3933);let l=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});l.displayName="Card";let a=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...s})});a.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})}).displayName="CardDescription";let u=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",n),...s})});u.displayName="CardContent",s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},8725:function(e,r,n){"use strict";n.d(r,{a:function(){return i}});var t=n(2265),s=n(6281);function i(){let e=(0,s.$)(),[r,n]=(0,t.useState)({user:null,session:null,loading:!0,error:null});(0,t.useEffect)(()=>{if(!e)return;(async()=>{try{var r;let{data:{session:t},error:s}=await e.auth.getSession();n({user:null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null,session:t,loading:!1,error:s})}catch(e){n({user:null,session:null,loading:!1,error:e})}})();let{data:{subscription:r}}=e.auth.onAuthStateChange(async(e,r)=>{var t;n({user:null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null,session:r,loading:!1,error:null})});return()=>r.unsubscribe()},[e]);let i=async(r,n)=>{if(!e)return{error:Error("Supabase not initialized")};let{data:t,error:s}=await e.auth.signInWithPassword({email:r,password:n});return{data:t,error:s}},l=async(r,n)=>{if(!e)return{error:Error("Supabase not initialized")};let{data:t,error:s}=await e.auth.signUp({email:r,password:n});return{data:t,error:s}},a=async()=>{if(!e)return{error:Error("Supabase not initialized")};let{error:r}=await e.auth.signOut();return{error:r}},o=async r=>{if(!e)return{error:Error("Supabase not initialized")};let{data:n,error:t}=await e.auth.signInWithOtp({email:r,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return{data:n,error:t}};return{user:r.user,session:r.session,loading:r.loading,error:r.error,isSignedIn:!!r.user,signIn:i,signUp:l,signOut:a,signInWithMagicLink:o}}},6281:function(e,r,n){"use strict";n.d(r,{$:function(){return i}});var t=n(2265),s=n(5876);function i(){let e=(0,t.useContext)(s.Wx);if(!e)throw Error("useSupabase must be used within a SupabaseProvider");return e}},3933:function(e,r,n){"use strict";n.d(r,{cn:function(){return i}});var t=n(3167),s=n(1367);function i(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,s.m6)((0,t.W)(r))}},5876:function(e,r,n){"use strict";n.d(r,{FV:function(){return a},Wx:function(){return l}});var t=n(7437),s=n(2265),i=n(1051);let l=(0,s.createContext)(null);function a(e){let{children:r}=e,[n]=(0,s.useState)(()=>(0,i.eI)("https://wofujmjtywidyilhfewn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndvZnVqbWp0eXdpZHlpbGhmZXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczNTkwNDEsImV4cCI6MjA2MjkzNTA0MX0.RO5x9h_QEzNFbyiMqphMuqYDChd-KQ9Cf3ODvP_RzO4"));return(0,t.jsx)(l.Provider,{value:n,children:r})}}},function(e){e.O(0,[51,150,792,971,69,744],function(){return e(e.s=6020)}),_N_E=e.O()}]);