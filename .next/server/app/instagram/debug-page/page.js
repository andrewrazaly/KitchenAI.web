(()=>{var e={};e.id=821,e.ids=[821],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},40026:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=t(50482),s=t(69108),n=t(62563),o=t.n(n),i=t(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let c=["",{children:["instagram",{children:["debug-page",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,89740)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/instagram/debug-page/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71578)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/instagram/debug-page/page.tsx"],u="/instagram/debug-page/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/instagram/debug-page/page",pathname:"/instagram/debug-page",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21495:(e,r,t)=>{Promise.resolve().then(t.bind(t,70641))},72702:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,Zb:()=>o,aY:()=>c,ll:()=>l});var a=t(95344),s=t(3729),n=t(45773);let o=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));o.displayName="Card";let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle",s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},70641:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(95344),s=t(3729),n=t(48346),o=t(72702),i=t(222),l=t(55943),c=t(69425);function d(){let{isSignedIn:e,user:r}=(0,n.a)(),t=(0,l.$)(),[d,u]=(0,s.useState)(null),[p,m]=(0,s.useState)([]),[f,g]=(0,s.useState)(null),[_,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{u(localStorage.getItem("kitchen_ai_saved_creators")),h(),v()},[t]);let h=async()=>{try{let e=await (0,c.yy)(t);m(e)}catch(e){console.error("Error loading saved creators:",e),x(e.message)}},v=async()=>{if(!t){g({error:"No Supabase client available"});return}try{let{data:e,error:r}=await t.from("saved_creators").select("count",{count:"exact",head:!0});if(r)g({error:r.message,code:r.code});else{g({success:!0,count:e});let{data:r,error:a}=await t.from("saved_creators").select("*").limit(5);g(e=>({...e,sampleData:r,sampleError:a?.message}))}}catch(e){g({error:e.message})}};return a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Debug Page - Saved Creators"}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"User Information"})}),(0,a.jsxs)(o.aY,{children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Signed In:"})," ",e?"Yes":"No"]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"User ID:"})," ",r.id]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Email Verified:"})," ",r.email_confirmed_at?"Yes":"No"]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Created:"})," ",new Date(r.created_at).toLocaleString()]})]})]})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"localStorage Data"})}),(0,a.jsxs)(o.aY,{children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Key:"})," kitchen_ai_saved_creators"]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Value:"})," ",d||"null"]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[a.jsx(i.z,{onClick:()=>{let e=["gordonramsay","jamieoliver","tasty"];localStorage.setItem("kitchen_ai_saved_creators",JSON.stringify(e)),u(JSON.stringify(e))},children:"Add Test Data"}),a.jsx(i.z,{variant:"outline",onClick:()=>{localStorage.removeItem("kitchen_ai_saved_creators"),u(null)},children:"Clear localStorage"})]})]})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"Saved Creators (from getSavedCreators)"})}),(0,a.jsxs)(o.aY,{children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Count:"})," ",p.length]}),p.length>0?a.jsx("ul",{className:"list-disc list-inside mt-2",children:p.map(e=>(0,a.jsxs)("li",{children:["@",e.creator_username,e.id&&` (ID: ${e.id})`,e.saved_at&&` - Saved: ${new Date(e.saved_at).toLocaleString()}`]},e.creator_username))}):a.jsx("p",{className:"text-gray-500",children:"No creators found"}),_&&(0,a.jsxs)("p",{className:"text-red-600 mt-2",children:["Error: ",_]})]})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"Supabase Connection Test"})}),(0,a.jsxs)(o.aY,{children:[f?a.jsx("div",{children:f.error?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-red-600",children:[a.jsx("strong",{children:"Error:"})," ",f.error]}),f.code&&(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Code:"})," ",f.code]})]}):(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-green-600",children:"âœ… Connection successful"}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Total records:"})," ",f.count]}),f.sampleData&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"Sample data:"})}),a.jsx("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-auto",children:JSON.stringify(f.sampleData,null,2)})]}),f.sampleError&&(0,a.jsxs)("p",{className:"text-red-600",children:["Sample data error: ",f.sampleError]})]})}):a.jsx("p",{children:"Testing connection..."}),a.jsx(i.z,{onClick:v,className:"mt-4",children:"Retest Connection"})]})]})]})})}},222:(e,r,t)=>{"use strict";t.d(r,{z:()=>d});var a=t(95344),s=t(3729),n=t(32751),o=t(49247),i=t(56815),l=t(79377);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,...o},d)=>{let u=s?n.g7:"button";return a.jsx(u,{className:function(...e){return(0,l.m6)((0,i.W)(e))}(c({variant:r,size:t,className:e})),ref:d,...o})});d.displayName="Button"},69425:(e,r,t)=>{"use strict";t.d(r,{T2:()=>i,p1:()=>l,uN:()=>d,w1:()=>c,yy:()=>o});let a="kitchenai_saved_creators";function s(){try{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}}function n(e){try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Error saving to localStorage:",e)}}async function o(e){if(!e)return s().map(e=>({creator_username:e,saved_at:new Date().toISOString()}));try{let{data:{session:r}}=await e.auth.getSession();if(!r)return s().map(e=>({creator_username:e,saved_at:new Date().toISOString()}));let{data:t,error:a}=await e.from("saved_creators").select("*").eq("user_id",r.user.id).order("saved_at",{ascending:!1});if(a)throw a;return t.map(e=>({id:e.id,creator_username:e.creator_username,creator_display_name:e.creator_display_name,creator_profile_pic_url:e.creator_profile_pic_url,creator_follower_count:e.creator_follower_count,creator_bio:e.creator_bio,is_verified:e.is_verified,saved_at:e.saved_at}))}catch(e){return console.warn("Database error, falling back to localStorage:",e),s().map(e=>({creator_username:e,saved_at:new Date().toISOString()}))}}async function i(e,r){let t={creator_username:e.creator_username,creator_display_name:e.creator_display_name,creator_profile_pic_url:e.creator_profile_pic_url,creator_follower_count:e.creator_follower_count,creator_bio:e.creator_bio,is_verified:e.is_verified||!1,saved_at:new Date().toISOString()};if(!r){let r=s();return r.includes(e.creator_username)||(r.push(e.creator_username),n(r)),t}try{let{data:{session:a}}=await r.auth.getSession();if(!a){let r=s();return r.includes(e.creator_username)||(r.push(e.creator_username),n(r)),t}let{data:o,error:i}=await r.from("saved_creators").insert({user_id:a.user.id,creator_username:e.creator_username,creator_display_name:e.creator_display_name,creator_profile_pic_url:e.creator_profile_pic_url,creator_follower_count:e.creator_follower_count,creator_bio:e.creator_bio,is_verified:e.is_verified||!1}).select().single();if(i){if("23505"===i.code)throw Error("Creator already saved");throw i}return{id:o.id,creator_username:o.creator_username,creator_display_name:o.creator_display_name,creator_profile_pic_url:o.creator_profile_pic_url,creator_follower_count:o.creator_follower_count,creator_bio:o.creator_bio,is_verified:o.is_verified,saved_at:o.saved_at}}catch(a){console.warn("Database error, falling back to localStorage:",a);let r=s();return r.includes(e.creator_username)||(r.push(e.creator_username),n(r)),t}}async function l(e,r){if(!r){n(s().filter(r=>r!==e));return}try{let{data:{session:t}}=await r.auth.getSession();if(!t){let r=s().filter(r=>r!==e);n(r);return}let{error:a}=await r.from("saved_creators").delete().eq("user_id",t.user.id).eq("creator_username",e);if(a)throw a}catch(r){console.warn("Database error, falling back to localStorage:",r),n(s().filter(r=>r!==e))}}async function c(e,r){if(!r)return s().includes(e);try{let{data:{session:t}}=await r.auth.getSession();if(!t)return s().includes(e);let{data:a,error:n}=await r.from("saved_creators").select("id").eq("user_id",t.user.id).eq("creator_username",e).single();if(n&&"PGRST116"!==n.code)throw n;return!!a}catch(r){return console.warn("Database error, falling back to localStorage:",r),s().includes(e)}}async function d(e){try{let{data:{session:r}}=await e.auth.getSession();if(!r)return;let t=s();if(0===t.length)return;let n=(await o(e)).map(e=>e.creator_username),l=t.filter(e=>!n.includes(e));for(let r of l)try{await i({creator_username:r},e)}catch(e){console.warn(`Failed to migrate creator ${r}:`,e)}l.length>0&&(localStorage.removeItem(a),console.log(`Migrated ${l.length} creators from localStorage to database`))}catch(e){console.error("Error migrating localStorage data:",e)}}},89740:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,t(86843).createProxy)(String.raw`/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/instagram/debug-page/page.tsx`),{__esModule:s,$$typeof:n}=a,o=a.default},31405:(e,r,t)=>{"use strict";t.d(r,{e:()=>n});var a=t(3729);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function n(...e){return a.useCallback(function(...e){return r=>{let t=!1,a=e.map(e=>{let a=s(e,r);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let r=0;r<a.length;r++){let t=a[r];"function"==typeof t?t():s(e[r],null)}}}}(...e),e)}},32751:(e,r,t)=>{"use strict";t.d(r,{Z8:()=>o,g7:()=>i});var a=t(3729),s=t(31405),n=t(95344);function o(e){let r=function(e){let r=a.forwardRef((e,r)=>{let t,n;let{children:o,...i}=e,l=a.isValidElement(o)?(t=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?o.ref:(t=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?o.props.ref:o.props.ref||o.ref:void 0,c=(0,s.e)(l,r);if(a.isValidElement(o)){let e=function(e,r){let t={...r};for(let a in r){let s=e[a],n=r[a];/^on[A-Z]/.test(a)?s&&n?t[a]=(...e)=>{let r=n(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...n}:"className"===a&&(t[a]=[s,n].filter(Boolean).join(" "))}return{...e,...t}}(i,o.props);return o.type!==a.Fragment&&(e.ref=c),a.cloneElement(o,e)}return a.Children.count(o)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=a.forwardRef((e,t)=>{let{children:s,...o}=e,i=a.Children.toArray(s),l=i.find(c);if(l){let e=l.props.children,s=i.map(r=>r!==l?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...o,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,n.jsx)(r,{...o,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}var i=o("Slot"),l=Symbol("radix.slottable");function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},49247:(e,r,t)=>{"use strict";t.d(r,{j:()=>o});var a=t(56815);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,o=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:o,defaultVariants:i}=r,l=Object.keys(o).map(e=>{let r=null==t?void 0:t[e],a=null==i?void 0:i[e];if(null===r)return null;let n=s(r)||s(a);return o[e][n]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return n(e,l,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:t,className:a,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...c}[r]):({...i,...c})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6330,4361],()=>t(40026));module.exports=a})();