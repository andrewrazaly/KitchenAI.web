(()=>{var e={};e.id=3399,e.ids=[3399],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},17223:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=s(50482),a=s(69108),i=s(62563),n=s.n(i),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c=["",{children:["profile",{children:["preferences",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,97537)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/preferences/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71578)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/preferences/page.tsx"],u="/profile/preferences/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/preferences/page",pathname:"/profile/preferences",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48222:(e,r,s)=>{Promise.resolve().then(s.bind(s,16824))},72702:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>l,Zb:()=>n,aY:()=>c,ll:()=>o});var t=s(95344),a=s(3729),i=s(45773);let n=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let l=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...r},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle",a.forwardRef(({className:e,...r},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},52072:(e,r,s)=>{"use strict";s.d(r,{I:()=>n});var t=s(95344),a=s(3729),i=s(45773);let n=a.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));n.displayName="Input"},16824:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(95344),a=s(3729),i=s(8428),n=s(48346),l=s(72702),o=s(8974),c=s(52072),d=s(63024),u=s(19666);let p=(0,s(97075).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var m=s(33838),x=s(55943);function h(){let{loading:e,isSignedIn:r}=(0,n.a)(),{showNotification:s}=(0,m.lm)(),h=(0,x.$)(),g=(0,i.useRouter)(),[f,b]=(0,a.useState)({dietaryRestrictions:[],cuisinePreferences:[],skillLevel:"beginner",timeConstraints:30,budgetPerWeek:100,nutritionGoals:{calories:2e3,protein:150,carbs:250,fat:65},householdSize:1}),[v,y]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!e&&r?k():e||r||g.push("/signin")},[e,r]);let k=async()=>{try{y(!0);let e=localStorage.getItem("mealPlannerPreferences");if(e)try{let r=JSON.parse(e);b(r)}catch(e){console.log("Error parsing local preferences:",e)}try{let{data:{session:e}}=await h.auth.getSession();if(e){let{data:r}=await h.from("user_preferences").select("*").eq("user_id",e.user.id).single();r&&b(r)}}catch(e){console.log("Supabase not available, using local storage:",e)}}catch(e){console.error("Error loading preferences:",e)}finally{y(!1)}},w=async()=>{try{N(!0),localStorage.setItem("mealPlannerPreferences",JSON.stringify(f));try{let{data:{session:e}}=await h.auth.getSession();if(e){let{error:r}=await h.from("user_preferences").upsert({user_id:e.user.id,...f});if(r)throw r;s("Preferences saved successfully!","success")}else s("Preferences saved locally!","success")}catch(e){console.log("Supabase save failed, but saved locally:",e),s("Preferences saved locally!","success")}}catch(e){console.error("Error saving preferences:",e),s("Error saving preferences. Please try again.","error")}finally{N(!1)}};return e||v?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-indigo-600 border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading preferences..."})]})})}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center mb-8",children:[(0,t.jsxs)(o.z,{onClick:()=>g.back(),className:"mr-4",children:[t.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Meal Planning Preferences"}),t.jsx("p",{className:"text-gray-600",children:"Customize your meal planning experience"})]})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(u.Z,{className:"h-5 w-5"}),"Your Preferences"]})}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Household size"}),(0,t.jsxs)("select",{value:f.householdSize,onChange:e=>b({...f,householdSize:Number(e.target.value)}),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:1,children:"Just me"}),t.jsx("option",{value:2,children:"2 people"}),t.jsx("option",{value:3,children:"3 people"}),t.jsx("option",{value:4,children:"4+ people"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cooking skill level"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["beginner","intermediate","advanced"].map(e=>t.jsx("button",{onClick:()=>b({...f,skillLevel:e}),className:`p-3 rounded-md border text-center capitalize ${f.skillLevel===e?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white border-gray-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Weekly budget ($)"}),t.jsx(c.I,{type:"number",value:f.budgetPerWeek,onChange:e=>b({...f,budgetPerWeek:Number(e.target.value)}),placeholder:"100"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Maximum cooking time per meal (minutes)"}),t.jsx(c.I,{type:"number",value:f.timeConstraints,onChange:e=>b({...f,timeConstraints:Number(e.target.value)}),placeholder:"30"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Dietary restrictions"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Vegetarian","Vegan","Gluten-free","Dairy-free","Keto","Paleo"].map(e=>t.jsx("button",{onClick:()=>{let r=f.dietaryRestrictions,s=r.includes(e)?r.filter(r=>r!==e):[...r,e];b({...f,dietaryRestrictions:s})},className:`p-2 rounded-md border text-sm ${f.dietaryRestrictions.includes(e)?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white border-gray-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Favorite cuisines"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Italian","Mexican","Asian","Mediterranean","American","Indian","Thai","French"].map(e=>t.jsx("button",{onClick:()=>{let r=f.cuisinePreferences,s=r.includes(e)?r.filter(r=>r!==e):[...r,e];b({...f,cuisinePreferences:s})},className:`p-2 rounded-md border text-sm ${f.cuisinePreferences.includes(e)?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Daily nutrition goals"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Calories"}),t.jsx(c.I,{type:"number",value:f.nutritionGoals.calories,onChange:e=>b({...f,nutritionGoals:{...f.nutritionGoals,calories:Number(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Protein (g)"}),t.jsx(c.I,{type:"number",value:f.nutritionGoals.protein,onChange:e=>b({...f,nutritionGoals:{...f.nutritionGoals,protein:Number(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Carbs (g)"}),t.jsx(c.I,{type:"number",value:f.nutritionGoals.carbs,onChange:e=>b({...f,nutritionGoals:{...f.nutritionGoals,carbs:Number(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Fat (g)"}),t.jsx(c.I,{type:"number",value:f.nutritionGoals.fat,onChange:e=>b({...f,nutritionGoals:{...f.nutritionGoals,fat:Number(e.target.value)}})})]})]})]}),t.jsx(o.z,{onClick:w,className:"w-full",disabled:j,children:j?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(p,{className:"h-4 w-4"}),"Save Preferences"]})})]})]})]})})}},63024:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(97075).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},19666:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(97075).Z)("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]])},97537:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let t=(0,s(86843).createProxy)(String.raw`/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/preferences/page.tsx`),{__esModule:a,$$typeof:i}=t,n=t.default}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[1638,6330,4361],()=>s(17223));module.exports=t})();