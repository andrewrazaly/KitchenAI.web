(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},32155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(50482),l=r(69108),n=r(62563),a=r.n(n),i=r(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,48654)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,71578)),"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/page.tsx"],u="/profile/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},36706:(e,t,r)=>{Promise.resolve().then(r.bind(r,13813))},72702:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,Zb:()=>a,aY:()=>c,ll:()=>o});var s=r(95344),l=r(3729),n=r(45773);let a=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));a.displayName="Card";let i=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let o=l.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",l.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},52072:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(95344),l=r(3729),n=r(45773);let a=l.forwardRef(({className:e,type:t,...r},l)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...r}));a.displayName="Input"},13813:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(95344),l=r(3729),n=r(8428),a=r(56506),i=r(72702),o=r(8974),c=r(52072),d=r(62409),u=l.forwardRef((e,t)=>(0,s.jsx)(d.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));u.displayName="Label";var m=r(49247),p=r(45773);let f=(0,m.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=l.forwardRef(({className:e,...t},r)=>s.jsx(u,{ref:r,className:(0,p.cn)(f(),e),...t}));x.displayName=u.displayName;var h=r(48346);function g(){let[e,t]=(0,l.useState)(null),[r,n]=(0,l.useState)(!0),{loading:a,isSignedIn:i,user:o}=(0,h.a)(),c=(0,l.useRef)(e);(0,l.useEffect)(()=>{c.current=e},[e]);let d=(0,l.useCallback)(()=>{if(o&&c.current&&Date.now()>=c.current.resetAt){let e=`usage_${o.id}`,r=new Date;r.setHours(24,0,0,0);let s={count:0,limit:50,resetAt:r.getTime()};localStorage.setItem(e,JSON.stringify(s)),t(s)}},[o]);if((0,l.useEffect)(()=>{(async()=>{try{if(n(!0),a||!i||!o){n(!1);return}let e=`usage_${o.id}`,r=localStorage.getItem(e);if(r){let s=JSON.parse(r);if(Date.now()>=s.resetAt){let r=new Date;r.setHours(24,0,0,0);let s={count:0,limit:50,resetAt:r.getTime()};localStorage.setItem(e,JSON.stringify(s)),t(s)}else t(s)}else{let r=new Date;r.setHours(24,0,0,0);let s={count:10,limit:50,resetAt:r.getTime()};localStorage.setItem(e,JSON.stringify(s)),t(s)}}catch(e){console.error("Error fetching usage data:",e)}finally{n(!1)}})();let e=setInterval(d,6e4);return()=>{clearInterval(e)}},[a,i,o,d]),(0,l.useCallback)(()=>{if(!o||!c.current)return;let e=c.current.count+1,r={...c.current,count:e};localStorage.setItem(`usage_${o.id}`,JSON.stringify(r)),t(r)},[o]),r||!e||!i)return null;let u=Math.min(Math.round(e.count/e.limit*100),100);return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-navy mb-2",children:"AI Usage Today"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsxs)("span",{children:[e.count," of ",e.limit," requests"]}),(0,s.jsxs)("span",{className:u>80?"text-danger font-medium":"text-navy",children:[u,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-medium rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${u<50?"bg-success":u<80?"bg-warning":"bg-danger"}`,style:{width:`${u}%`}})}),(0,s.jsxs)("div",{className:"text-xs text-navy mt-2",children:["Resets in: ",(()=>{let t=Date.now(),r=e.resetAt;if(t>=r)return"Resetting soon";let s=Math.floor((r-t)/36e5);return s<1?"Less than an hour":`${s} hour${1!==s?"s":""}`})()]}),u>=90&&s.jsx("div",{className:"mt-2 text-xs text-danger",children:"You're almost at your daily limit!"})]})}var y=r(89410);function j(){let[e,t]=(0,l.useState)(null),[r,d]=(0,l.useState)(!1),{loading:u,isSignedIn:m,user:p,signOut:f}=(0,h.a)(),j=(0,n.useRouter)();if(u)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-6"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("div",{className:"h-20 w-20 bg-gray-200 rounded-full mb-4"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]})})});if(!m||!p)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)(i.Zb,{className:"w-full max-w-md",children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Access Denied"})}),(0,s.jsxs)(i.aY,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be signed in to view your profile."}),s.jsx(a.default,{href:"/auth/signin",children:s.jsx(o.z,{className:"w-full",children:"Sign In"})})]})]})});let v=async()=>{d(!0),t(null);try{await f(),j.push("/")}catch(e){t("Failed to sign out. Please try again."),console.error("Sign out error:",e)}finally{d(!1)}},b=p.user_metadata?.full_name||p.email?.split("@")[0]||"User",N=p.email||"",w=p.user_metadata?.avatar_url,S=b.charAt(0).toUpperCase();return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Profile"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Profile Information"})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-20 w-20 rounded-full overflow-hidden bg-indigo-100 flex items-center justify-center text-indigo-600 text-2xl font-bold",children:w?s.jsx(y.default,{src:w,alt:b,width:80,height:80,className:"w-full h-full object-cover"}):S}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:b}),s.jsx("p",{className:"text-gray-600",children:N})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx(x,{htmlFor:"name",children:"Full Name"}),s.jsx(c.I,{id:"name",value:b,readOnly:!0,className:"bg-gray-50"})]}),(0,s.jsxs)("div",{children:[s.jsx(x,{htmlFor:"email",children:"Email"}),s.jsx(c.I,{id:"email",value:N,readOnly:!0,className:"bg-gray-50"})]})]})]})]}),(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Account Actions"})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[s.jsx(a.default,{href:"/profile/preferences",children:s.jsx(o.z,{className:"w-full justify-start",children:"⚙️ Manage Preferences"})}),s.jsx(a.default,{href:"/instagram",children:s.jsx(o.z,{className:"w-full justify-start",children:"\uD83D\uDCF1 Instagram Integration"})}),s.jsx(a.default,{href:"/recipes",children:s.jsx(o.z,{className:"w-full justify-start",children:"\uD83C\uDF73 My Recipes"})}),e&&s.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 rounded-md",children:e}),s.jsx(o.z,{onClick:v,disabled:r,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:r?"Signing out...":"Sign Out"})]})]})]}),s.jsx("div",{className:"mt-6",children:(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Usage Statistics"})}),s.jsx(i.aY,{children:s.jsx(g,{})})]})})]})})}},48654:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>a});let s=(0,r(86843).createProxy)(String.raw`/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/profile/page.tsx`),{__esModule:l,$$typeof:n}=s,a=s.default},31405:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(3729);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return s.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=l(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():l(e[t],null)}}}}(...e),e)}},62409:(e,t,r)=>{"use strict";r.d(t,{WV:()=>i,jH:()=>o});var s=r(3729),l=r(81202),n=r(32751),a=r(95344),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.Z8)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:l,...n}=e,i=l?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i,{...n,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{});function o(e,t){e&&l.flushSync(()=>e.dispatchEvent(t))}},32751:(e,t,r)=>{"use strict";r.d(t,{Z8:()=>a,g7:()=>i});var s=r(3729),l=r(31405),n=r(95344);function a(e){let t=function(e){let t=s.forwardRef((e,t)=>{let r,n;let{children:a,...i}=e,o=s.isValidElement(a)?(r=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?a.ref:(r=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?a.props.ref:a.props.ref||a.ref:void 0,c=(0,l.e)(o,t);if(s.isValidElement(a)){let e=function(e,t){let r={...t};for(let s in t){let l=e[s],n=t[s];/^on[A-Z]/.test(s)?l&&n?r[s]=(...e)=>{let t=n(...e);return l(...e),t}:l&&(r[s]=l):"style"===s?r[s]={...l,...n}:"className"===s&&(r[s]=[l,n].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==s.Fragment&&(e.ref=c),s.cloneElement(a,e)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:l,...a}=e,i=s.Children.toArray(l),o=i.find(c);if(o){let e=o.props.children,l=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...a,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,l):null})}return(0,n.jsx)(t,{...a,ref:r,children:l})});return r.displayName=`${e}.Slot`,r}var i=a("Slot"),o=Symbol("radix.slottable");function c(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},49247:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var s=r(56815);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.W,a=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=l(t)||l(s);return a[e][n]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...l}=t;return Object.entries(l).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,6330,9410,4361],()=>r(32155));module.exports=s})();