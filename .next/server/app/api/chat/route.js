"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},87561:e=>{e.exports=require("node:fs")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},71267:e=>{e.exports=require("worker_threads")},59796:e=>{e.exports=require("zlib")},91834:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>q,patchFetch:()=>k,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>x});var s={};t.r(s),t.d(s,{POST:()=>c});var o=t(95419),a=t(69108),n=t(99678),i=t(86663),p=t(98984);let u=new i.OpenAI({apiKey:"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"});async function c(e){try{let{message:r}=await e.json();if(!r)return p.NextResponse.json({error:"Message is required"},{status:400});console.log("Sending request to OpenAI with message:",r);let t=await u.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful kitchen assistant who knows everything about cooking, recipes, meal planning, and kitchen organization. You provide clear, concise, and practical advice."},{role:"user",content:r}],temperature:.7,max_tokens:500}),s=t.choices[0]?.message?.content||"I'm sorry, I couldn't generate a response.";return console.log("Received response from OpenAI:",s),p.NextResponse.json({message:s})}catch(e){return console.error("Error in chat API:",{message:e.message,stack:e.stack,details:e.response?.data||e}),p.NextResponse.json({error:e.message||"Internal server error"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"/Users/andrewthorpe/Documents/Documents/Upstart Studio/Start Ups/KitchenAI mockup apps/KitchenAI_v1mock copy/app/api/chat/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h,headerHooks:g,staticGenerationBailout:x}=l,q="/api/chat/route";function k(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,2791,3122,6663],()=>t(91834));module.exports=s})();